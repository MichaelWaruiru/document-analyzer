{% extends 'base.html' %}
{% block content %}
<div class="bg-overlay"></div>
<div class="container d-flex justify-content-center align-items-center min-vh-100" style="position:relative;z-index:2;">
  <div class="card shadow-lg animated fadeInUp" style="max-width: 420px; width: 100%; border-radius: 1.5rem;">
    <div class="card-body p-5">
      <h2 class="card-title mb-4 text-center title-glow animate__animated animate__pulse animate__infinite" style="font-weight:bold;">
        Welcome Back
      </h2>
      <p class="text-center text-muted mb-4 animate__animated animate__fadeInDown" style="font-size: 1.05rem;">
        Login to access your dashboard and saved analyses.
      </p>
      <form method="POST" autocomplete="off" class="animate__animated animate__fadeIn">
        {{ form.hidden_tag() }}
        <div class="mb-3">
          <label class="form-label">Email</label>
          {{ form.email(class="form-control", placeholder="your@email.com") }}
        </div>
        <div class="mb-3 position-relative">
          <label class="form-label">Password</label>
          <div class="input-group">
            {{ form.password(class="form-control", placeholder="Your password", id="login_password") }}
            <span class="input-group-text" style="cursor:pointer" onclick="togglePassword('login_password', this)">
              <i class="fa fa-eye"></i>
            </span>
          </div>
        </div>
        <button type="submit" class="btn btn-primary w-100 shadow-sm animate__animated animate__pulse">Login</button>
      </form>
      <br>
      <div class="text-center mt-3 animate__animated animate__fadeInUp">
        <!-- Google button style -->
        <a href="{{ url_for('login_google') }}" class="btn btn-light w-100 shadow-sm d-flex align-items-center justify-content-center" style="border: 1px solid #d1d1d1; border-radius: 4px; font-weight:500; font-size:1rem; gap:10px;">
          <span style="display:inline-block; width:22px; height:22px; vertical-align:middle;">
            <!-- Google "G" SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="22" height="22">
              <g>
                <path fill="#4285F4" d="M24 9.5c3.54 0 6.06 1.53 7.45 2.81l5.52-5.52C33.7 4.21 29.22 2 24 2 14.82 2 6.98 7.8 3.33 15.44l6.71 5.21C12.32 14.2 17.67 9.5 24 9.5z"/>
                <path fill="#34A853" d="M46.1 24.5c0-1.61-.14-2.8-.45-4.03H24v7.62h12.5c-.25 2.04-1.61 5.12-4.63 7.19l7.13 5.56C43.87 36.14 46.1 30.98 46.1 24.5z"/>
                <path fill="#FBBC05" d="M10.04 28.65c-1.01-2.98-1.01-6.22 0-9.2l-6.71-5.2C.62 19.89 0 22.66 0 24c0 1.34.62 4.11 3.33 9.75l6.71-5.1z"/>
                <path fill="#EA4335" d="M24 46c6.22 0 11.45-2.05 15.27-5.61l-7.13-5.56c-2 1.38-4.77 2.23-8.14 2.23-6.33 0-11.68-4.7-13.96-11.17l-6.71 5.1C6.98 40.2 14.82 46 24 46z"/>
                <path fill="none" d="M0 0h48v48H0z"/>
              </g>
            </svg>
          </span>
          <span style="color:#555;">Sign in with Google</span>
        </a>
      </div>
      <div class="text-center mt-3 animate__animated animate__fadeInUp">
        <small>Don't have an account? <a href="{{ url_for('register') }}" class="fw-bold text-primary">Register</a></small>
      </div>
    </div>
  </div>
</div>
{% endblock %}